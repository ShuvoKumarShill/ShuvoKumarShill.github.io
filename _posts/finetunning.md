# ডেটাসেট ফরম্যাট
{
    "user": "আপনাদের ডেলিভারি চার্জ কত?",
    "assistant": "ঢাকার ভিতরে ৬০ টাকা এবং ঢাকার বাইরে ১২০ টাকা"
}
 

---

## ২. কোয়ান্টাইজেশন - সম্পূর্ণ বিস্তারিত

### কোয়ান্টাইজেশন কী?

কোয়ান্টাইজেশন = উচ্চ মেমোরি ফরম্যাট থেকে নিম্ন মেমোরি ফরম্যাটে রূপান্তর

**গাণিতিক সংজ্ঞা:**
 
Quantization: f: R → Q
যেখানে,
R = Real numbers (continuous)
Q = Quantized values (discrete)
 

### ডেটা টাইপ এবং মেমোরি

**ফ্লোটিং পয়েন্ট সংখ্যা কীভাবে সংরক্ষিত হয়:**

#### FP32 (Full Precision / Single Precision)
 
মোট বিট: 32
বিভাজন:
├── Sign bit: 1 বিট (+ বা -)
├── Exponent: 8 বিট (ঘাত)
└── Mantissa: 23 বিট (দশমিক অংশ)

উদাহরণ: 7.325 কীভাবে সংরক্ষিত হয়
Sign: 0 (পজিটিভ)
Exponent: ঘাতের মান
Mantissa: .325 অংশ

মেমোরি: 4 bytes
রেঞ্জ: ±3.4 × 10^38
নির্ভুলতা: ~7 দশমিক স্থান
 

#### FP16 (Half Precision)
 
মোট বিট: 16
বিভাজন:
├── Sign bit: 1 বিট
├── Exponent: 5 বিট
└── Mantissa: 10 বিট

মেমোরি: 2 bytes
রেঞ্জ: ±65,504
নির্ভুলতা: ~3 দশমিক স্থান
সাইজ কমেছে: 50%
 

#### INT8 (8-bit Integer)
 
মোট বিট: 8
রেঞ্জ:
├── Signed: -128 থেকে +127
└── Unsigned: 0 থেকে 255

মেমোরি: 1 byte
সাইজ কমেছে: 75% (FP32 থেকে)
 

#### INT4 (4-bit Integer)
 
মোট বিট: 4
রেঞ্জ:
├── Signed: -8 থেকে +7
└── Unsigned: 0 থেকে 15

মেমোরি: 0.5 bytes
সাইজ কমেছে: 87.5% (FP32 থেকে)
 

### কোয়ান্টাইজেশন এর গাণিতিক প্রক্রিয়া

#### Symmetric Quantization (সিমেট্রিক কোয়ান্টাইজেশন)

**সংজ্ঞা:** যখন ডেটা শূন্যের চারপাশে সমানভাবে বিতরণ করা থাকে।

**উদাহরণ সহ ধাপে ধাপে:**
 
ধাপ ১: মূল ডেটা
ওয়েট ভ্যালু: 0 থেকে 1000 (FP32)
টার্গেট: 0 থেকে 255 (UINT8)

ধাপ ২: স্কেল ফ্যাক্টর বের করা
সূত্র: Scale = (X_max - X_min) / (Q_max - Q_min)

গণনা:
Scale = (1000 - 0) / (255 - 0)
Scale = 1000 / 255
Scale = 3.92

ধাপ ৩: কোয়ান্টাইজেশন
যেকোনো মান X এর জন্য:
Q = round(X / Scale)

উদাহরণ মান:
X = 250 (মূল মান)
Q = round(250 / 3.92)
Q = round(63.77)
Q = 64 (কোয়ান্টাইজড মান)

ধাপ ৪: ডিকোয়ান্টাইজেশন (পুনরুদ্ধার)
X_recovered = Q × Scale
X_recovered = 64 × 3.92
X_recovered = 250.88 ≈ 250
 

**প্যারামিটার:**
 
Zero Point (ZP) = 0 (সিমেট্রিক বলে)
Scale (S) = 3.92
 

#### Asymmetric Quantization (অ্যাসিমেট্রিক কোয়ান্টাইজেশন)

**সংজ্ঞা:** যখন ডেটা অসমভাবে বিতরণ করা (skewed)।

**উদাহরণ সহ ধাপে ধাপে:**
 
ধাপ ১: মূল ডেটা
ওয়েট ভ্যালু: -20 থেকে 1000 (FP32)
টার্গেট: 0 থেকে 255 (UINT8)

ধাপ ২: স্কেল ফ্যাক্টর
Scale = (1000 - (-20)) / (255 - 0)
Scale = 1020 / 255
Scale = 4.0

ধাপ ৩: জিরো পয়েন্ট বের করা
মূল -20 কে 0-তে ম্যাপ করতে হবে

-20 / 4.0 = -5
Zero Point = 5 (যোগ করতে হবে)

ধাপ ৪: কোয়ান্টাইজেশন সূত্র
Q = round(X / Scale) + ZP

উদাহরণ:
X = -20
Q = round(-20 / 4.0) + 5
Q = -5 + 5 = 0 ✓

X = 1000
Q = round(1000 / 4.0) + 5
Q = 250 + 5 = 255 ✓

X = 0
Q = round(0 / 4.0) + 5
Q = 0 + 5 = 5

ধাপ ৫: ডিকোয়ান্টাইজেশন
X = (Q - ZP) × Scale
 

**প্যারামিটার:**
 
Zero Point (ZP) = 5
Scale (S) = 4.0